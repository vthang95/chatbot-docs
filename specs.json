{
	"components": {
		"schemas": {
			"CreateBotInputBody": {
				"additionalProperties": false,
				"properties": {
					"delay": {
						"default": 0,
						"description": "Delay bot execution in seconds",
						"format": "int64",
						"type": "integer"
					},
					"description": { "description": "Bot description", "type": "string" },
					"language": {
						"default": "vi",
						"description": "Bot language. Supported ISO 639-1 language code",
						"type": "string"
					},
					"name": { "description": "Bot name", "type": "string" },
					"target": {
						"default": "reply",
						"description": "Target Outcome for the bot",
						"enum": ["reply", "lead", "order"],
						"type": "string"
					}
				},
				"required": ["name"],
				"type": "object"
			},
			"ErrorDetail": {
				"additionalProperties": false,
				"properties": {
					"location": {
						"description": "Where the error occurred, e.g. 'body.items[3].tags' or 'path.thing-id'",
						"type": "string"
					},
					"message": { "description": "Error message text", "type": "string" },
					"value": { "description": "The value at the given location" }
				},
				"type": "object"
			},
			"ErrorModel": {
				"additionalProperties": false,
				"properties": {
					"detail": {
						"description": "A human-readable explanation specific to this occurrence of the problem.",
						"examples": ["Property foo is required but is missing."],
						"type": "string"
					},
					"errors": {
						"description": "Optional list of individual error details",
						"items": { "$ref": "#/components/schemas/ErrorDetail" },
						"type": ["array", "null"]
					},
					"instance": {
						"description": "A URI reference that identifies the specific occurrence of the problem.",
						"examples": ["https://example.com/error-log/abc123"],
						"format": "uri",
						"type": "string"
					},
					"status": {
						"description": "HTTP status code",
						"examples": [400],
						"format": "int64",
						"type": "integer"
					},
					"title": {
						"description": "A short, human-readable summary of the problem type. This value should not change between occurrences of the error.",
						"examples": ["Bad Request"],
						"type": "string"
					},
					"type": {
						"default": "about:blank",
						"description": "A URI reference to human-readable documentation for the error.",
						"examples": ["https://example.com/errors/example"],
						"format": "uri",
						"type": "string"
					}
				},
				"type": "object"
			},
			"ExternalBot": {
				"additionalProperties": false,
				"properties": {
					"chatbot_version": { "type": "string" },
					"created_at": { "format": "date-time", "type": ["string", "null"] },
					"delay": { "format": "int64", "type": "integer" },
					"description": { "type": "string" },
					"id": { "type": "string" },
					"instructions": { "type": "string" },
					"language": { "type": "string" },
					"metadata": { "type": "string" },
					"name": { "type": "string" },
					"partner_id": { "type": "string" },
					"target": { "type": "string" },
					"updated_at": { "format": "date-time", "type": ["string", "null"] },
					"workflow_id": { "$ref": "#/components/schemas/OptionalString" }
				},
				"required": [
					"id",
					"name",
					"description",
					"target",
					"instructions",
					"language",
					"chatbot_version",
					"workflow_id",
					"partner_id",
					"metadata",
					"delay",
					"created_at",
					"updated_at"
				],
				"type": "object"
			},
			"ExternalSalesStage": {
				"additionalProperties": false,
				"properties": {
					"bot_id": { "type": "string" },
					"created_at": { "format": "date-time", "type": ["string", "null"] },
					"id": { "type": "string" },
					"instructions": { "type": "string" },
					"name": { "type": "string" },
					"updated_at": { "format": "date-time", "type": ["string", "null"] }
				},
				"required": [
					"id",
					"bot_id",
					"name",
					"instructions",
					"created_at",
					"updated_at"
				],
				"type": "object"
			},
			"GetBotsOutputBody": {
				"additionalProperties": false,
				"properties": {
					"current_page": {
						"format": "int64",
						"minimum": 0,
						"type": "integer"
					},
					"entries": {
						"items": { "$ref": "#/components/schemas/ExternalBot" },
						"type": ["array", "null"]
					},
					"limit": { "format": "int64", "minimum": 0, "type": "integer" },
					"total_entries": {
						"format": "int64",
						"minimum": 0,
						"type": "integer"
					}
				},
				"required": ["total_entries", "entries", "limit", "current_page"],
				"type": "object"
			},
			"GetMediaOutputBody": {
				"additionalProperties": false,
				"properties": {
					"entries": {
						"items": { "type": "string" },
						"type": ["array", "null"]
					}
				},
				"required": ["entries"],
				"type": "object"
			},
			"GetProductsOutputBody": {
				"additionalProperties": false,
				"properties": {
					"current_page": { "format": "int64", "type": "integer" },
					"entries": {
						"items": { "type": "string" },
						"type": ["array", "null"]
					},
					"limit": { "format": "int64", "type": "integer" },
					"total_entries": { "format": "int64", "type": "integer" }
				},
				"required": ["total_entries", "entries", "limit", "current_page"],
				"type": "object"
			},
			"GetStagesOutputBody": {
				"additionalProperties": false,
				"properties": {
					"entries": {
						"items": { "$ref": "#/components/schemas/ExternalSalesStage" },
						"type": ["array", "null"]
					}
				},
				"required": ["entries"],
				"type": "object"
			},
			"OptionalString": {
				"additionalProperties": false,
				"properties": {
					"String": { "type": "string" },
					"Valid": { "type": "boolean" }
				},
				"required": ["String", "Valid"],
				"type": "object"
			}
		},
		"securitySchemes": {
			"bearer": {
				"bearerFormat": "JWT",
				"description": "API-Key authentication",
				"scheme": "bearer",
				"type": "http"
			}
		}
	},
	"info": {
		"description": "AI Chatbot API Description...\u003cbr\u003e\u003ch1\u003eWebhook\u003c/h1\u003e\u003cbr\u003e[Learn more](https://google.com)",
		"title": "AI Chatbot API",
		"version": "1.0.0"
	},
	"openapi": "3.1.0",
	"paths": {
		"/v1.0/bots": {
			"get": {
				"operationId": "get_bots",
				"parameters": [
					{
						"description": "Limit the number of bots per page to return",
						"explode": false,
						"in": "query",
						"name": "limit",
						"schema": {
							"default": 10,
							"description": "Limit the number of bots per page to return",
							"format": "int64",
							"minimum": 0,
							"type": "integer"
						}
					},
					{
						"description": "Page number to return",
						"explode": false,
						"in": "query",
						"name": "page",
						"schema": {
							"default": 1,
							"description": "Page number to return",
							"format": "int64",
							"minimum": 0,
							"type": "integer"
						}
					},
					{
						"description": "Search bots by name or description",
						"explode": false,
						"in": "query",
						"name": "search",
						"schema": {
							"description": "Search bots by name or description",
							"type": "string"
						}
					}
				],
				"responses": {
					"200": {
						"content": {
							"application/json": {
								"schema": { "$ref": "#/components/schemas/GetBotsOutputBody" }
							}
						},
						"description": "OK"
					},
					"401": {
						"content": {
							"application/problem+json": {
								"schema": { "$ref": "#/components/schemas/ErrorModel" }
							}
						},
						"description": "Unauthorized"
					},
					"403": {
						"content": {
							"application/problem+json": {
								"schema": { "$ref": "#/components/schemas/ErrorModel" }
							}
						},
						"description": "Forbidden"
					},
					"404": {
						"content": {
							"application/problem+json": {
								"schema": { "$ref": "#/components/schemas/ErrorModel" }
							}
						},
						"description": "Not Found"
					},
					"422": {
						"content": {
							"application/problem+json": {
								"schema": { "$ref": "#/components/schemas/ErrorModel" }
							}
						},
						"description": "Unprocessable Entity"
					},
					"429": {
						"content": {
							"application/problem+json": {
								"schema": { "$ref": "#/components/schemas/ErrorModel" }
							}
						},
						"description": "Too Many Requests"
					},
					"500": {
						"content": {
							"application/problem+json": {
								"schema": { "$ref": "#/components/schemas/ErrorModel" }
							}
						},
						"description": "Internal Server Error"
					}
				},
				"security": [{ "bearer": [] }],
				"summary": "Get bot list",
				"tags": ["Bot Management"]
			},
			"post": {
				"operationId": "create_bot",
				"requestBody": {
					"content": {
						"application/json": {
							"schema": { "$ref": "#/components/schemas/CreateBotInputBody" }
						}
					},
					"required": true
				},
				"responses": {
					"200": {
						"content": {
							"application/json": {
								"schema": { "$ref": "#/components/schemas/ExternalBot" }
							}
						},
						"description": "OK"
					},
					"401": {
						"content": {
							"application/problem+json": {
								"schema": { "$ref": "#/components/schemas/ErrorModel" }
							}
						},
						"description": "Unauthorized"
					},
					"403": {
						"content": {
							"application/problem+json": {
								"schema": { "$ref": "#/components/schemas/ErrorModel" }
							}
						},
						"description": "Forbidden"
					},
					"404": {
						"content": {
							"application/problem+json": {
								"schema": { "$ref": "#/components/schemas/ErrorModel" }
							}
						},
						"description": "Not Found"
					},
					"422": {
						"content": {
							"application/problem+json": {
								"schema": { "$ref": "#/components/schemas/ErrorModel" }
							}
						},
						"description": "Unprocessable Entity"
					},
					"429": {
						"content": {
							"application/problem+json": {
								"schema": { "$ref": "#/components/schemas/ErrorModel" }
							}
						},
						"description": "Too Many Requests"
					},
					"500": {
						"content": {
							"application/problem+json": {
								"schema": { "$ref": "#/components/schemas/ErrorModel" }
							}
						},
						"description": "Internal Server Error"
					}
				},
				"security": [{ "bearer": [] }],
				"summary": "Create a new bot",
				"tags": ["Bot Management"]
			}
		},
		"/v1.0/{bot_id}/media": {
			"get": {
				"operationId": "get_media",
				"parameters": [
					{
						"description": "Bot ID",
						"in": "path",
						"name": "bot_id",
						"required": true,
						"schema": { "description": "Bot ID", "type": "string" }
					}
				],
				"responses": {
					"200": {
						"content": {
							"application/json": {
								"schema": { "$ref": "#/components/schemas/GetMediaOutputBody" }
							}
						},
						"description": "OK"
					},
					"401": {
						"content": {
							"application/problem+json": {
								"schema": { "$ref": "#/components/schemas/ErrorModel" }
							}
						},
						"description": "Unauthorized"
					},
					"403": {
						"content": {
							"application/problem+json": {
								"schema": { "$ref": "#/components/schemas/ErrorModel" }
							}
						},
						"description": "Forbidden"
					},
					"404": {
						"content": {
							"application/problem+json": {
								"schema": { "$ref": "#/components/schemas/ErrorModel" }
							}
						},
						"description": "Not Found"
					},
					"422": {
						"content": {
							"application/problem+json": {
								"schema": { "$ref": "#/components/schemas/ErrorModel" }
							}
						},
						"description": "Unprocessable Entity"
					},
					"429": {
						"content": {
							"application/problem+json": {
								"schema": { "$ref": "#/components/schemas/ErrorModel" }
							}
						},
						"description": "Too Many Requests"
					},
					"500": {
						"content": {
							"application/problem+json": {
								"schema": { "$ref": "#/components/schemas/ErrorModel" }
							}
						},
						"description": "Internal Server Error"
					}
				},
				"security": [{ "bearer": [] }],
				"summary": "Get bot's media list",
				"tags": ["Media Management"]
			}
		},
		"/v1.0/{bot_id}/products": {
			"get": {
				"operationId": "get_products",
				"parameters": [
					{
						"description": "Bot ID",
						"in": "path",
						"name": "bot_id",
						"required": true,
						"schema": { "description": "Bot ID", "type": "string" }
					},
					{
						"description": "Limit the number of products per page to return",
						"explode": false,
						"in": "query",
						"name": "limit",
						"schema": {
							"default": 10,
							"description": "Limit the number of products per page to return",
							"format": "int64",
							"type": "integer"
						}
					},
					{
						"description": "Page number to return",
						"explode": false,
						"in": "query",
						"name": "page",
						"schema": {
							"default": 1,
							"description": "Page number to return",
							"format": "int64",
							"type": "integer"
						}
					},
					{
						"description": "Search products by name or description",
						"explode": false,
						"in": "query",
						"name": "search",
						"schema": {
							"description": "Search products by name or description",
							"type": "string"
						}
					}
				],
				"responses": {
					"200": {
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/GetProductsOutputBody"
								}
							}
						},
						"description": "OK"
					},
					"401": {
						"content": {
							"application/problem+json": {
								"schema": { "$ref": "#/components/schemas/ErrorModel" }
							}
						},
						"description": "Unauthorized"
					},
					"403": {
						"content": {
							"application/problem+json": {
								"schema": { "$ref": "#/components/schemas/ErrorModel" }
							}
						},
						"description": "Forbidden"
					},
					"404": {
						"content": {
							"application/problem+json": {
								"schema": { "$ref": "#/components/schemas/ErrorModel" }
							}
						},
						"description": "Not Found"
					},
					"422": {
						"content": {
							"application/problem+json": {
								"schema": { "$ref": "#/components/schemas/ErrorModel" }
							}
						},
						"description": "Unprocessable Entity"
					},
					"429": {
						"content": {
							"application/problem+json": {
								"schema": { "$ref": "#/components/schemas/ErrorModel" }
							}
						},
						"description": "Too Many Requests"
					},
					"500": {
						"content": {
							"application/problem+json": {
								"schema": { "$ref": "#/components/schemas/ErrorModel" }
							}
						},
						"description": "Internal Server Error"
					}
				},
				"security": [{ "bearer": [] }],
				"summary": "Get bot's products",
				"tags": ["Product Management"]
			}
		},
		"/v1.0/{bot_id}/stages": {
			"get": {
				"operationId": "get_stages",
				"parameters": [
					{
						"description": "Bot ID",
						"in": "path",
						"name": "bot_id",
						"required": true,
						"schema": { "description": "Bot ID", "type": "string" }
					}
				],
				"responses": {
					"200": {
						"content": {
							"application/json": {
								"schema": { "$ref": "#/components/schemas/GetStagesOutputBody" }
							}
						},
						"description": "OK"
					},
					"401": {
						"content": {
							"application/problem+json": {
								"schema": { "$ref": "#/components/schemas/ErrorModel" }
							}
						},
						"description": "Unauthorized"
					},
					"403": {
						"content": {
							"application/problem+json": {
								"schema": { "$ref": "#/components/schemas/ErrorModel" }
							}
						},
						"description": "Forbidden"
					},
					"404": {
						"content": {
							"application/problem+json": {
								"schema": { "$ref": "#/components/schemas/ErrorModel" }
							}
						},
						"description": "Not Found"
					},
					"422": {
						"content": {
							"application/problem+json": {
								"schema": { "$ref": "#/components/schemas/ErrorModel" }
							}
						},
						"description": "Unprocessable Entity"
					},
					"429": {
						"content": {
							"application/problem+json": {
								"schema": { "$ref": "#/components/schemas/ErrorModel" }
							}
						},
						"description": "Too Many Requests"
					},
					"500": {
						"content": {
							"application/problem+json": {
								"schema": { "$ref": "#/components/schemas/ErrorModel" }
							}
						},
						"description": "Internal Server Error"
					}
				},
				"security": [{ "bearer": [] }],
				"summary": "Get bot's sales stages",
				"tags": ["Stage Management"]
			}
		}
	},
	"servers": [{ "url": "http://localhost:5500" }]
}
